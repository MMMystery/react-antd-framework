(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{483:function(e,t,a){e.exports=a.p+"static/media/logo_senseStudy.ba45bc3e.svg"},484:function(e,t,a){e.exports={container:"Forget_container__rhPjF",top:"Forget_top__1e1DQ",title:"Forget_title__3XJOO",content:"Forget_content__is1Rj",button:"Forget_button__NuLn1"}},486:function(e,t,a){e.exports={bigContainer:"Login_bigContainer__3wGB8",container:"Login_container__2Ok6x",wrap:"Login_wrap__pXE-M",title:"Login_title__1eCjk",inUser:"Login_inUser__GEuu8",inPaw:"Login_inPaw__1Q-Bg",eyeIcon:"Login_eyeIcon__2vTGd",close_eyeIcon:"Login_close_eyeIcon__2WW8F",bSubmit:"Login_bSubmit__nsx06"}},675:function(e,t,a){"use strict";a.r(t);a(114);var n=a(82),o=a.n(n),l=(a(171),a(59)),s=a.n(l),r=(a(176),a(18)),i=a.n(r),c=a(33),m=a.n(c),p=a(21),u=(a(174),a(115)),g=a.n(u),d=a(60),b=a(38),_=a(39),h=a(42),v=a(40),w=a(43),y=(a(177),a(62)),f=a.n(y),E=a(1),S=a.n(E),k=a(482),O=a.n(k),j=a(53);var N=a(105),x=a(483),C=a.n(x),L=a(484),I=a.n(L),F=function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(h.a)(this,(e=Object(v.a)(t)).call.apply(e,[this].concat(o)))).disappear=function(){a.props.onChange({visible:!1,display:"block"})},a}return Object(w.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){return S.a.createElement("div",{className:I.a.container},S.a.createElement("div",{className:I.a.title},S.a.createElement("span",null,"\u5fd8\u8bb0\u5bc6\u7801")),S.a.createElement("div",{className:I.a.content},S.a.createElement("span",null,"\u8bf7\u8054\u7cfbcaiwenhui@sensetime.com\u91cd\u7f6e\u5bc6\u7801")),S.a.createElement("div",{className:I.a.button,onClick:this.disappear},S.a.createElement("span",null,"\u77e5\u9053\u4e86")))}}]),t}(S.a.Component),P=a(486),D=a.n(P),M=f.a.Item,U=O.a.mock({"list|100":[{name:"@city","value|1-100":150,"type|0-2":1}]});console.log(U);var B=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(h.a)(this,Object(v.a)(t).call(this,e))).toLogin=function(){var e=Object(d.a)(m.a.mark(function e(t){var n,o;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return g.a.destroy(),console.log("this.props"),console.log(a.props),console.log(t),n=Object(p.a)({},t),console.log(n),e.prev=6,e.next=9,l={username:n.username,password:Object(N.a)(n.password)},Object(j.a)("/api/v1/auth/login",{method:"POST",body:Object(p.a)({},l)});case 9:o=e.sent,console.log(o),1e3===o.errorCode?(console.log(o.data),window.localStorage.setItem("token",o.data.token.token),window.localStorage.setItem("name",o.data.username),window.localStorage.setItem("role",o.data.roles[0]),console.log(o.data.roles[0]),window.localStorage.setItem("id",o.data.id),"ROLE_BUSINESSMAN"===o.data.roles[0]?(console.log(o.data.roles[0]),a.props.history.push({pathname:"/sale"})):a.props.history.push({pathname:"/management"})):(g.a.info({message:o.errorMessage}),a.setState({loading:!1})),console.log("\u63a5\u53e3\u62ff\u5230\u7684\u7ed3\u679c\uff1a"),console.log(o),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(6),console.log("\u5f02\u5e38"),a.setState({loading:!1});case 20:case"end":return e.stop()}var l},e,this,[[6,16]])}));return function(t){return e.apply(this,arguments)}}(),a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){e?a.setState({loading:!1}):(a.setState({loading:!0}),a.toLogin(t))})},a.forget=function(){a.setState({visible:!a.state.visible,display:"none"})},a.state={visible:!1,eyeState:1,loading:!1,display:"block"},a}return Object(w.a)(t,e),Object(_.a)(t,[{key:"getChange",value:function(e){e&&this.setState(e)}},{key:"componentDidMount",value:function(){console.log(window.localStorage.getItem("token")),window.localStorage.clear(),console.log(window.localStorage.getItem("token"))}},{key:"render",value:function(){var e=this,t=S.a.createElement("div",null);t=this.state.visible?S.a.createElement(F,{onChange:function(t){return e.getChange(t)}}):S.a.createElement("div",null);var a=this.props.form.getFieldDecorator;return S.a.createElement("div",{className:D.a.bigContainer},S.a.createElement("div",{className:D.a.container,style:{display:this.state.display}},S.a.createElement("div",{className:D.a.wrap},S.a.createElement("img",{width:"160px",height:"30px",src:C.a,alt:"\u56fe\u7247\u52a0\u8f7d\u5931\u8d25"}),S.a.createElement(f.a,{onSubmit:this.handleSubmit,className:""},S.a.createElement("div",{className:D.a.title},S.a.createElement("span",null,"\u9500\u552e\u95e8\u6237")),S.a.createElement(M,null,a("username",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7528\u6237\u540d!"}]})(S.a.createElement(s.a,{prefix:S.a.createElement(i.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),type:"text",placeholder:"\u7528\u6237\u540d",className:D.a.inUser}))),S.a.createElement(M,null,a("password",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801!"}]})(S.a.createElement(s.a,{className:D.a.inPaw,type:this.state.eyeState?"password":"text",prefix:S.a.createElement(i.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"\u5bc6\u7801"}))),S.a.createElement("div",{className:"forget",onClick:this.forget},"\u5fd8\u8bb0\u5bc6\u7801\uff1f"),S.a.createElement(o.a,{type:"primary",className:D.a.bSubmit,htmlType:"submit",loading:this.state.loading},"\u767b\u5f55")))),t)}}]),t}(S.a.Component);t.default=f.a.create()(B)}}]);
//# sourceMappingURL=3.0ef88aff.chunk.js.map