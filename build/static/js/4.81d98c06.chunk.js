(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{424:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Row",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"Col",{enumerable:!0,get:function(){return n.default}});var a=o(r(181)),n=o(r(182));function o(e){return e&&e.__esModule?e:{default:e}}},426:function(e,t,r){"use strict";r.d(t,"f",function(){return s}),r.d(t,"g",function(){return i}),r.d(t,"b",function(){return c}),r.d(t,"h",function(){return l}),r.d(t,"e",function(){return d}),r.d(t,"a",function(){return p}),r.d(t,"c",function(){return u}),r.d(t,"d",function(){return m});var a=r(54),n=r(21),o=r(53);function s(e){return Object(o.a)("/api/v1/businessman/order/getOrderList",{method:"GET",body:Object(n.a)({},e)})}function i(e){return Object(o.a)("/api/v1/businessman/order/getOrderListLikeNameOrRemarks",{method:"GET",body:Object(n.a)({},e)})}function c(e){return Object(o.a)("/api/v1/order/deleteAOrder",{method:"POST",body:Object(n.a)({},e)})}function l(e){return Object(o.a)("/api/v1/businessman/order/getServerListAndHardDiskList",{method:"GET",body:Object(n.a)({},e)})}function d(e){return Object(o.a)("/api/v1/order/generateAOrder",{method:"POST",body:e})}function p(e){return Object(o.a)("/api/v1/order/addAOrder",{method:"POST",body:e})}function u(e){return Object(o.a)("/api/v1/businessman/order/download",{method:"POST",responseType:"blob",body:e})}function m(e){var t=Object(a.a)({},e);return Object(o.a)("/api/v1/businessman/download",{method:"GET",responseType:"blob",body:Object(n.a)({},t)})}},433:function(e,t,r){"use strict";r(172);var a=r(116),n=r.n(a),o=(r(179),r(118)),s=r.n(o),i=(r(434),r(436)),c=r.n(i),l=(r(435),r(437)),d=r.n(l),p=(r(174),r(115)),u=r.n(p),m=r(33),y=r.n(m),h=(r(173),r(52)),b=r.n(h),f=r(60),g=r(38),E=r(39),v=r(42),x=r(40),S=r(43),P=(r(177),r(62)),k=r.n(P),I=(r(171),r(59)),w=r.n(I),C=r(1),N=r.n(C),O=r(426),B=w.a.TextArea,j=k.a.Item,L=0,R=[{id:"gpuServer",name:"GPU\u670d\u52a1\u5668",key:0,info:{name:"name",number:"gupServerNumber",Capacity:"gpuNumber",whitePaperUrl:"whitePaperUrl",price:"gpuServerPrice"}},{id:"cpuServer",name:"CPU\u670d\u52a1\u5668",key:2,info:{name:"name",number:"cpuServerNumber",whitePaperUrl:"whitePaperUrl",price:"cpuServerPrice"}},{id:"storageServer",name:"\u5b58\u50a8\u670d\u52a1\u5668",key:1,info:{name:"name",number:"storageServerNumber",Size:"storageSize",hardDiskNumber:"hardDiskNumber",whitePaperUrl:"whitePaperUrl",price:"storageServerPrice"}},{id:"ibServer",name:"IB\u4ea4\u6362\u673a",key:3,info:{name:"name",number:"ibNumber",whitePaperUrl:"whitePaperUrl",price:"ibPrice"}},{id:"hardDiskEntity",name:"\u786c\u76d8",key:4,info:{name:"name",number:"hardDiskNumber",whitePaperUrl:"whitePaperUrl",price:"hartDiskServerPrice"}}],T=function(e){function t(e){var r;return Object(g.a)(this,t),(r=Object(v.a)(this,Object(x.a)(t).call(this,e))).downloadWhitePaper=function(){var e=Object(f.a)(y.a.mark(function e(t){var r,a;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(O.d)({filename:t.split("/").pop().replace(/(^files\\)/g,""),whitePaperUrl:t});case 3:(r=e.sent).errorCode||((a=document.createElement("a")).href=window.URL.createObjectURL(r),a.download=t.split("/").pop().replace(/(^files\\)/g,""),a.click(),window.URL.revokeObjectURL(a.href),console.log(a.href)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),b.a.error("\u4e0b\u8f7d\u767d\u76ae\u4e66\u5931\u8d25");case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),r.addAOrder=function(){var e=Object(f.a)(y.a.mark(function e(t){var a;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a="TRUSTEESHIP"===r.props.tabId?{userRealityProportion:"".concat(r.props.orderInfo.ordersEntity.userRealityProportion),userQueueProportion:"".concat(r.props.orderInfo.ordersEntity.userQueueProportion),userStorage:"".concat(r.props.orderInfo.ordersEntity.userStorage),bandwidthPrice:"".concat(r.props.orderInfo.ordersEntity.bandwidthPrice),opsPriceCoefficient:"".concat(r.props.fieldsValue.opsPrice),userNumber:"".concat(r.props.orderInfo.ordersEntity.userNumber),scheduleClassesEverydayNumber:"".concat(r.props.orderInfo.ordersEntity.scheduleClassesEverydayNumber),schooldaysPerWeekNumber:"".concat(r.props.orderInfo.ordersEntity.schooldaysPerWeekNumber),systemUsersTotal:"".concat(r.props.orderInfo.ordersEntity.systemUsersTotal),serviceCycle:"".concat(r.props.orderInfo.ordersEntity.serviceCycle),hardDiskId:"".concat(r.props.orderInfo.hardDiskEntity.id),cpuServerNumber:"".concat(r.props.orderInfo.ordersEntity.cpuServerNumber),gpuId:"".concat(r.props.orderInfo.gpuServer.id),storageId:"".concat(r.props.orderInfo.storageServer.id),cpuId:"".concat(r.props.orderInfo.cpuServer.id),ibId:"".concat(r.props.orderInfo.ibServer.id),name:t.name,remarks:t.remarks,rackLeasedPrice:"".concat(r.props.orderInfo.ordersEntity.rackLeasedPrice)}:{userRealityProportion:"".concat(r.props.orderInfo.ordersEntity.userRealityProportion),userQueueProportion:"".concat(r.props.orderInfo.ordersEntity.userQueueProportion),userStorage:"".concat(r.props.orderInfo.ordersEntity.userStorage),bandwidthPrice:"".concat(r.props.orderInfo.ordersEntity.bandwidthPrice),opsPriceCoefficient:"".concat(r.props.fieldsValue.opsPrice),userNumber:"".concat(r.props.orderInfo.ordersEntity.userNumber),scheduleClassesEverydayNumber:"".concat(r.props.orderInfo.ordersEntity.scheduleClassesEverydayNumber),schooldaysPerWeekNumber:"".concat(r.props.orderInfo.ordersEntity.schooldaysPerWeekNumber),systemUsersTotal:"".concat(r.props.orderInfo.ordersEntity.systemUsersTotal),serviceCycle:"".concat(r.props.orderInfo.ordersEntity.serviceCycle),hardDiskId:"".concat(r.props.orderInfo.hardDiskEntity.id),cpuServerNumber:"".concat(r.props.orderInfo.ordersEntity.cpuServerNumber),gpuId:"".concat(r.props.orderInfo.gpuServer.id),storageId:"".concat(r.props.orderInfo.storageServer.id),cpuId:"".concat(r.props.orderInfo.cpuServer.id),ibId:"".concat(r.props.orderInfo.ibServer.id),name:t.name,remarks:t.remarks},e.next=4,Object(O.a)(a);case 4:1e3===e.sent.errorCode?(b.a.success("\u8ba2\u5355\u6dfb\u52a0\u6210\u529f"),r.setState({addSuccess:!0})):u.a.info({message:"\u5b58\u50a8\u8ba2\u5355\u5931\u8d25"}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),u.a.info({message:"\u5b58\u50a8\u8ba2\u5355\u5931\u8d25"});case 11:case"end":return e.stop()}},e,this,[[0,8]])}));return function(t){return e.apply(this,arguments)}}(),r.queryFormClickOk=function(){if(r.props.addQueryForm)r.props.form.validateFieldsAndScroll(function(){var e=Object(f.a)(y.a.mark(function e(t,a){var n;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=6;break}return console.log(a),e.next=4,r.addAOrder(a);case 4:n={queryFormModalVisible:!1,addSuccess:r.state.addSuccess},r.props.modalChange(n);case 6:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}());else{r.props.modalChange({queryFormModalVisible:!1})}L=0},r.queryFormClickCancel=function(){r.props.modalChange({queryFormModalVisible:!1}),L=0},r.state={stateUp:!1,orderInfo:r.props.orderInfo,addSuccess:!1},r}return Object(S.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e=Object(f.a)(y.a.mark(function e(){return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:console.log("456"),this.props.form.resetFields();case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;L=0,console.log(this.props.queryFormRecord),console.log(this.state.hardwareTopologyUrl);var t={width:"100%",height:"46px",padding:"10px 20px",background:"#F0F2F5"},r={fontSize:"16px",color:"#333333",marginTop:"14px",display:"inline-block"},a=this.props.form.getFieldDecorator,o={labelCol:{xs:{span:2},sm:{span:2}},wrapperCol:{xs:{span:9},sm:{span:9}}};return N.a.createElement("div",null,this.props.queryFormModalVisible&&this.props.orderInfo?N.a.createElement(n.a,{title:"\u8be2\u5355\u8be6\u60c5",visible:this.props.queryFormModalVisible,onOk:this.queryFormClickOk,okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onCancel:this.queryFormClickCancel,width:1212},N.a.createElement("div",{style:{marginBottom:"60px"}},N.a.createElement(c.a,{type:"flex",style:this.props.addQueryForm?{display:"none"}:{height:"73px",border:"0px"}},N.a.createElement(d.a,{span:4,offset:10,style:{textAlign:"center"}},N.a.createElement("p",{style:{color:"#333333",fontSize:"18px",marginBottom:"0.6em"}},this.props.orderInfo.ordersEntity.name),N.a.createElement("p",{style:{color:"#666666"}},this.props.orderInfo.ordersEntity.businessmanByBusinessmanId.name,"\xa0",this.props.orderInfo.ordersEntity.registertime))),N.a.createElement(c.a,{type:"flex",style:{height:"208px"}},N.a.createElement("div",{style:t},N.a.createElement("h3",null,"\u7528\u6237\u9700\u6c42")),N.a.createElement("div",{style:{padding:"0 20px",width:"100%"}},N.a.createElement("div",{style:{height:"80px",paddingTop:"14px"}},N.a.createElement("h3",null,"\u57fa\u672c\u9700\u6c42"),N.a.createElement("span",{style:{marginRight:"60px"}},"\u540c\u65f6\u4e0a\u8bfe\u4eba\u6570: ",this.props.orderInfo.ordersEntity.userNumber,"\u4eba"),N.a.createElement("span",{style:{marginRight:"60px"}},"\u6bcf\u5929\u6392\u8bfe\u8282\u6570: ",this.props.orderInfo.ordersEntity.scheduleClassesEverydayNumber,"\u8282"),N.a.createElement("span",{style:{marginRight:"60px"}},"\u6bcf\u5468\u4e0a\u8bfe\u5929\u6570: ",this.props.orderInfo.ordersEntity.schooldaysPerWeekNumber,"\u5929"),N.a.createElement("span",{style:{marginRight:"60px"}},"\u603b\u8d26\u53f7\u9700\u6c42: ",this.props.orderInfo.ordersEntity.systemUsersTotal,"\u4eba"),N.a.createElement("span",{style:{marginRight:"60px"}},"\u670d\u52a1\u5e74\u9650: ",this.props.orderInfo.ordersEntity.serviceCycle,"\u5e74")),N.a.createElement(s.a,{dashed:!0,style:{borderColor:"#BBBBBB",margin:"0"}}),N.a.createElement("div",{style:{height:"80px",paddingTop:"14px"}},N.a.createElement("h3",null,"\u7f51\u7edc\u9700\u6c42"),N.a.createElement("span",{style:{marginRight:"60px"}},"\u6bcf\u7528\u6237: ",this.props.orderInfo.everyUserBandwidthMaximum,"Mbps"),N.a.createElement("span",{style:{marginRight:"60px"}},"\u603b\u8ba1: ",this.props.orderInfo.ordersEntity.bandwidthRequirements,"Mbps")))),N.a.createElement(c.a,{type:"flex",style:{marginBottom:"21px",border:"0px",height:"454px"}},N.a.createElement("div",{style:{width:"740px",marginRight:"23px",height:"454px",border:"1px solid #BBBBBB"}},N.a.createElement("div",{style:t},N.a.createElement("h3",null,"\u786c\u4ef6\u914d\u7f6e\u53ca\u67b6\u6784")),N.a.createElement("div",{style:{padding:"0 20px",width:"100%"}},R.map(function(t,r){return N.a.createElement("div",{style:{height:"66px",marginTop:"14px"},key:t.name},N.a.createElement("h3",null,t.name),N.a.createElement("div",{style:{marginBottom:"14px"}},N.a.createElement("span",{style:{marginRight:"60px"}},"\u578b\u53f7: ",null!==e.props.orderInfo[t.id]?e.props.orderInfo[t.id][t.info.name]:"null"),N.a.createElement("span",{style:{marginRight:"60px"}},"\u6570\u91cf: ",e.props.orderInfo.ordersEntity[t.info.number],"\u786c\u76d8"===t.name?"\u5757":"\u53f0"),N.a.createElement("span",{style:"GPU\u670d\u52a1\u5668"===t.name?{marginRight:"60px"}:{display:"none"}},"\u5361\u6570: ",e.props.orderInfo.ordersEntity[t.info.Capacity],"\u5361"),N.a.createElement("span",{style:"\u5b58\u50a8\u670d\u52a1\u5668"===t.name?{marginRight:"60px"}:{display:"none"}},"\u5b58\u50a8\u91cf: ",e.props.orderInfo.ordersEntity[t.info.Size],"TB"),N.a.createElement("span",{style:"\u5b58\u50a8\u670d\u52a1\u5668"===t.name?{marginRight:"60px"}:{display:"none"}},"\u786c\u76d8\u6570:  ",e.props.orderInfo.ordersEntity[t.info.hardDiskNumber],"\u5757"),null!==e.props.orderInfo[t.id]&&null!==e.props.orderInfo[t.id][t.info.whitePaperUrl]&&"\u786c\u76d8"!==t.name&&"ROLE_BUSINESSMAN"===window.localStorage.getItem("role")?N.a.createElement("a",{onClick:function(){return e.downloadWhitePaper(e.props.orderInfo[t.id][t.info.whitePaperUrl])}},"\u4e0b\u8f7d\u767d\u76ae\u4e66"):""),r===R.length-1?"":N.a.createElement(s.a,{dashed:!0,style:{borderColor:"#BBBBBB",margin:"0"}}))}))),N.a.createElement("div",{style:{width:"401px",height:"454px",border:"1px solid #BBBBBB"}},N.a.createElement("div",{style:t},N.a.createElement("h3",null,"\u62d3\u6251\u56fe")),N.a.createElement("div",{style:{padding:"14px 20px",width:"410px",height:"375px"}},N.a.createElement("img",{src:this.props.hardwareTopologyUrl,style:{width:"370px",height:"347px",marginBottom:"14px",display:"inline-block",overflow:"hidden"},alt:"\u56fe\u7247\u52a0\u8f7d\u5931\u8d25"}),N.a.createElement("a",{href:this.props.hardwareTopologyUrl,download:Date.parse(new Date)+".png"},"\u4e0b\u8f7d\u62d3\u6251\u56fe")))),N.a.createElement(c.a,{type:"flex"},N.a.createElement("div",{style:t},N.a.createElement("h3",null,"\u786c\u4ef6\u6210\u672c")),N.a.createElement("div",{style:{padding:"0 20px",width:"100%"}},N.a.createElement("div",{style:{height:"49px",paddingTop:"14px"}},R.map(function(t,r){return L+=e.props.orderInfo.ordersEntity[t.info.price]*e.props.orderInfo.ordersEntity[t.info.number],N.a.createElement("span",{key:r,style:{marginRight:"60px"}},t.name,": ","".concat(e.props.orderInfo.ordersEntity[t.info.price]*e.props.orderInfo.ordersEntity[t.info.number]),"\u5143")})),N.a.createElement(s.a,{dashed:!0,style:{borderColor:"#BBBBBB",margin:"0"}}),N.a.createElement("div",{style:{height:"49px"}},N.a.createElement("span",{style:r},"\u603b\u8ba1: ",L,"\u5143")))),N.a.createElement(c.a,{type:"flex"},N.a.createElement("div",{style:t},N.a.createElement("h3",null,"\u8f6f\u4ef6\u62a5\u4ef7")),N.a.createElement("div",{style:{padding:"0 20px",width:"100%"}},N.a.createElement("div",{style:{height:"49px",paddingTop:"14px"}},N.a.createElement("span",{style:{marginRight:"60px"}},"\u6743\u9650\u6388\u6743\u8d39: ",this.props.orderInfo.ordersEntity.softwareLicensingPrice,"\u5143"),N.a.createElement("span",{style:{marginRight:"60px"}},"\u62d3\u5c55\u8bfe\u7a0b\u5305: 0\u5143")),N.a.createElement(s.a,{dashed:!0,style:{borderColor:"#BBBBBB",margin:"0"}}),N.a.createElement("div",{style:{height:"49px"}},N.a.createElement("span",{style:r},"\u603b\u8ba1: ","".concat(this.props.orderInfo.ordersEntity.softwareLicensingPrice+0),"\u5143")))),N.a.createElement(c.a,{type:"flex"},N.a.createElement("div",{style:t},N.a.createElement("h3",null,"\u5176\u4ed6\u6210\u672c")),N.a.createElement("div",{style:{padding:"0 20px",width:"100%"}},N.a.createElement("div",{style:{height:"49px",paddingTop:"14px"}},N.a.createElement("span",{style:{marginRight:"60px"}},"\u7f51\u7edc: ",this.props.orderInfo.ordersEntity.networkTotalPrice,"\u5143"),N.a.createElement("span",{style:{marginRight:"60px"}},"\u8fd0\u7ef4\u4ef7\u683c: ",this.props.orderInfo.ordersEntity.opsTotalPrice,"\u5143"),N.a.createElement("span",{style:this.props.orderInfo.ordersEntity.rackLeasedPrice?{marginRight:"60px"}:{display:"none"}},"\u673a\u67dc\u79df\u8d41: ",this.props.orderInfo.ordersEntity.rackLeasedPrice,"\u5143")),N.a.createElement(s.a,{dashed:!0,style:{borderColor:"#BBBBBB",margin:"0"}}),N.a.createElement("div",{style:{height:"49px"}},N.a.createElement("span",{style:r},"\u603b\u8ba1: ",this.props.orderInfo.ordersEntity.rackLeasedPrice?"".concat(this.props.orderInfo.ordersEntity.networkTotalPrice+this.props.orderInfo.ordersEntity.opsTotalPrice+this.props.orderInfo.ordersEntity.rackLeasedPrice):"".concat(this.props.orderInfo.ordersEntity.networkTotalPrice+this.props.orderInfo.ordersEntity.opsTotalPrice),"\u5143")))),N.a.createElement("div",{style:{margin:"10px 20px 30px"}},N.a.createElement("span",{style:{fontSize:"26px"}},"\u670d\u52a1\u5468\u671f\u5185\u603b\u4ef7\u683c: "),N.a.createElement("span",{style:{fontSize:"26px",color:"#719CFB"}},this.props.orderInfo.ordersEntity.serviceCycleTotalPrice,"\u5143")),N.a.createElement(s.a,{dashed:!0,style:this.props.addQueryForm?{borderColor:"#BBBBBB"}:{display:"none"}}),N.a.createElement(k.a,{style:this.props.addQueryForm?{display:"block"}:{display:"none"}},N.a.createElement(j,Object.assign({},o,{label:"\u8be2\u5355\u540d"}),a("name",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u8be2\u5355\u540d"}]})(N.a.createElement(w.a,{style:{color:"#999999"},size:"large"}))),N.a.createElement(j,Object.assign({},o,{label:"\u6dfb\u52a0\u5907\u6ce8"}),a("remarks",{})(N.a.createElement(B,{style:{resize:"none",height:"152px"}})))))):"")}}]),t}(N.a.Component);t.a=k.a.create()(T)},434:function(e,t,r){"use strict";r(17),r(178)},435:function(e,t,r){"use strict";r(17),r(178)},436:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(424).Row;t.default=a},437:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(424).Col;t.default=a},509:function(e,t,r){e.exports={container:"Home_container__2f3ef",topContainer:"Home_topContainer__mHn2P",top:"Home_top__2f_vd",right:"Home_right__3zzD1",add:"Home_add__1nQVl",tabContainer:"Home_tabContainer__3RJr3",center:"Home_center__1puxc",bottom:"Home_bottom__1IdjM",title:"Home_title__sRzIS",configure:"Home_configure__2oHof",table:"Home_table__3GbsR",prompt:"Home_prompt__18225"}},670:function(e,t,r){"use strict";r.r(t);r(172);var a=r(116),n=r.n(a),o=(r(427),r(431)),s=r.n(o),i=(r(179),r(118)),c=r.n(i),l=(r(454),r(458)),d=r.n(l),p=(r(171),r(59)),u=r.n(p),m=(r(114),r(82)),y=r.n(m),h=(r(429),r(430)),b=r.n(h),f=(r(176),r(18)),g=r.n(f),E=(r(173),r(52)),v=r.n(E),x=(r(174),r(115)),S=r.n(x),P=r(33),k=r.n(P),I=r(60),w=r(38),C=r(39),N=r(42),O=r(40),B=r(43),j=(r(455),r(456)),L=r.n(j),R=(r(441),r(438)),T=r.n(R),U=(r(177),r(62)),F=r.n(U),_=r(1),V=r.n(_),q=r(509),M=r.n(q),D=r(426),K=r(119),Q=r(433),H=F.a.Item,A=T.a.Option,W=L.a.TabPane,z=[{id:"EXCLUSIVE",name:"\u72ec\u4eab\u79c1\u6709\u4e91",key:0}],G=[{id:"gpu",name:"GPU\u670d\u52a1\u5668",key:0,listName:"gpuServerList",selectKey:0},{id:"store",name:"\u5b58\u50a8\u670d\u52a1\u5668",key:1,listName:"storeServerList",selectKey:0},{id:"cpu",name:"CPU\u670d\u52a1\u5668",key:2,listName:"cpuServerList",selectKey:0},{id:"ib",name:"IB\u4ea4\u6362\u673a",key:3,listName:"ibServerList",selectKey:0},{id:"\u53ef\u9009\u786c\u76d8",name:"\u786c\u76d8",key:4,listName:"partEntityList",selectKey:0}],$=function(e){function t(e){var r;return Object(w.a)(this,t),(r=Object(N.a)(this,Object(O.a)(t).call(this,e))).tabChange=function(){var e=Object(I.a)(k.a.mark(function e(t){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.props.form.resetFields(),e.next=3,r.setState({tabKey:t});case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),r.getHardwareTopology=function(){var e=Object(I.a)(k.a.mark(function e(t){var a,n;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(K.a)({gpuNumber:t.ordersEntity.gupServerNumber,storeNumber:t.ordersEntity.storageServerNumber,cpuNumber:t.ordersEntity.cpuServerNumber,userNumber:t.ordersEntity.userNumber,ibNumber:t.ordersEntity.ibNumber});case 3:if(a=e.sent,console.log(a),!a.errorCode){e.next=8;break}e.next=12;break;case 8:return n=window.URL.createObjectURL(a),console.log(n),e.next=12,r.setState({hardwareTopologyUrl:n});case 12:e.next=16;break;case 14:e.prev=14,e.t0=e.catch(0);case 16:case"end":return e.stop()}},e,this,[[0,14]])}));return function(t){return e.apply(this,arguments)}}(),r.generateAOrder=function(){var e=Object(I.a)(k.a.mark(function e(t){var a,n;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a="TRUSTEESHIP"===r.state.tabData[r.state.tabKey].id?{userRealityProportion:"".concat(t.actualConcurrentUserRatio),userQueueProportion:t.userQueueProportion,userStorage:"".concat(t.userStorageQuota),bandwidthPrice:"".concat(t.bandWidthPrice),opsPriceCoefficient:"".concat(t.opsPrice),userNumber:t.studentNumber,scheduleClassesEverydayNumber:"".concat(t.scheduleCount),schooldaysPerWeekNumber:"".concat(t.classDayNumber),systemUsersTotal:t.requireNumber,serviceCycle:t.seniority,hardDiskId:"".concat(r.state.allSeverList.partEntityList[G[4].selectKey].id),cpuServerNumber:"".concat(t.CPUServersNumber),gpuId:"".concat(r.state.allSeverList.gpuServerList[G[0].selectKey].id),storageId:"".concat(r.state.allSeverList.storeServerList[G[1].selectKey].id),cpuId:"".concat(r.state.allSeverList.cpuServerList[G[2].selectKey].id),ibId:"".concat(r.state.allSeverList.ibServerList[G[3].selectKey].id),rackLeasedPrice:"".concat(t.CabinetRental)}:{userRealityProportion:"".concat(t.actualConcurrentUserRatio),userQueueProportion:t.userQueueProportion,userStorage:"".concat(t.userStorageQuota),bandwidthPrice:"".concat(t.bandWidthPrice),opsPriceCoefficient:"".concat(t.opsPrice),userNumber:t.studentNumber,scheduleClassesEverydayNumber:"".concat(t.scheduleCount),schooldaysPerWeekNumber:"".concat(t.classDayNumber),systemUsersTotal:t.requireNumber,serviceCycle:t.seniority,hardDiskId:"".concat(r.state.allSeverList.partEntityList[G[4].selectKey].id),cpuServerNumber:"".concat(t.CPUServersNumber),gpuId:"".concat(r.state.allSeverList.gpuServerList[G[0].selectKey].id),storageId:"".concat(r.state.allSeverList.storeServerList[G[1].selectKey].id),cpuId:"".concat(r.state.allSeverList.cpuServerList[G[2].selectKey].id),ibId:"".concat(r.state.allSeverList.ibServerList[G[3].selectKey].id)},e.next=4,Object(D.e)(a);case 4:if(n=e.sent,console.log(n),1e3!==n.errorCode){e.next=12;break}return e.next=9,r.getHardwareTopology(n.data);case 9:r.setState({orderInfo:n.data}),e.next=13;break;case 12:S.a.info({message:"\u751f\u6210\u8ba2\u5355\u5931\u8d25"});case 13:e.next=17;break;case 15:e.prev=15,e.t0=e.catch(0);case 17:case"end":return e.stop()}},e,this,[[0,15]])}));return function(t){return e.apply(this,arguments)}}(),r.compareToMaxRequest=function(e,t,a){var n=r.props.form;t&&t>n.getFieldValue("studentNumber")*n.getFieldValue("scheduleCount")*n.getFieldValue("classDayNumber")?a("\u8f93\u5165\u7684\u503c\u5927\u4e8e\u7cfb\u7edf\u6700\u5927\u7528\u6237\u6570!"):a()},r.getPartListByServerIdNoPage=function(){var e=Object(I.a)(k.a.mark(function e(t){var a;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(K.c)({serverId:t});case 3:a=e.sent,console.log(a),1e3===a.errorCode?r.setState({aSeverParts:a.data}):S.a.info({message:a.errorMessage}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("\u83b7\u53d6\u5931\u8d25");case 11:case"end":return e.stop()}},e,this,[[0,8]])}));return function(t){return e.apply(this,arguments)}}(),r.getAllSeverList=Object(I.a)(k.a.mark(function e(){var t;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(D.h)({partType:"\u53ef\u9009\u786c\u76d8",gpuType:"gpu",cpuType:"cpu",ibType:"ib",storeType:"store"});case 3:1e3===(t=e.sent).errorCode?r.setState({allSeverList:t.data}):v.a.error("\u670d\u52a1\u5668\u5217\u8868\u52a0\u8f7d\u5931\u8d25"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("\u670d\u52a1\u5668\u5f02\u5e38");case 10:case"end":return e.stop()}},e,this,[[0,7]])})),r.detailMessage=function(){var e=Object(I.a)(k.a.mark(function e(t){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(r.state.aSeverParts),console.log(t.configure[0].name),console.log(r.state.selectValue),console.log(t),console.log(t.configure[G[t.key].selectKey].id),console.log(G[t.key].selectKey),e.next=8,r.getPartListByServerIdNoPage(t.configure[G[t.key].selectKey].id);case 8:return e.next=10,r.setState({detailRecord:t,detailVisible:!0,selectValueName:t.configure[G[t.key].selectKey].name,detailPrice:t.configure[G[t.key].selectKey].price});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),r.detailClickCancel=function(){r.setState({detailVisible:!1})},r.detailClickOk=function(){r.setState({detailVisible:!1})},r.selectQuery=function(){var e=Object(I.a)(k.a.mark(function e(t,r,a){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:console.log(a,t),G[a].selectKey=t,console.log(G);case 3:case"end":return e.stop()}},e,this)}));return function(t,r,a){return e.apply(this,arguments)}}(),r.queryFormModalChange=function(e){r.setState(e),e.addSuccess&&r.props.form.resetFields()},r.showCreateModal=Object(I.a)(k.a.mark(function e(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.submitForm();case 2:case"end":return e.stop()}},e,this)})),r.state={tabData:z,allHdList:[],allSeverList:[],detailRecord:[],detailVisible:!1,tableLoading:!1,aSeverParts:[],queryFormModalVisible:!1,tabKey:0},r}return Object(B.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){var e=Object(I.a)(k.a.mark(function e(){var t,r,a=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.props.form.resetFields(),console.log(123),this.setState({tableLoading:!0}),e.next=5,this.getAllSeverList();case 5:t=[],G.map(function(e,r){return t.push({key:r,equipment:e.name,configure:a.state.allSeverList[e.listName]}),t}),console.log(t),r=[{title:"\u8bbe\u5907",dataIndex:"equipment",key:"equipment"},{title:"\u914d\u7f6e",dataIndex:"configure",render:function(e,t){return V.a.createElement(T.a,{className:M.a.select,size:"large",defaultValue:t.configure?t.configure[0].name:"",onSelect:function(e,r){return a.selectQuery(e,r,t.key)},key:t.key,showSearch:!0,optionFilterProp:"children"},t.configure?t.configure.map(function(e,t){return V.a.createElement(A,{key:t},e.name)}):"")}},{title:"\u64cd\u4f5c",key:"operator",render:function(e,t){return V.a.createElement("span",null,V.a.createElement("a",{onClick:function(){return a.detailMessage(t)}},"\u8be6\u60c5"))}}],this.setState({dataSource:t,columns:r,tableLoading:!1});case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"submitForm",value:function(){var e=this;this.props.form.validateFieldsAndScroll(function(){var t=Object(I.a)(k.a.mark(function t(r,a){return k.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r){t.next=15;break}return a.actualConcurrentUserRatio=null==a.actualConcurrentUserRatio?"0.6":a.actualConcurrentUserRatio,a.userStorageQuota=""===a.userStorageQuota?"2":a.userStorageQuota,a.CPUServersNumber=null==a.CPUServersNumber?"1":a.CPUServersNumber,"TRUSTEESHIP"===e.state.tabData[e.state.tabKey].id?(a.bandWidthPrice=""===a.bandWidthPrice?"120":a.bandWidthPrice,a.opsPrice=null==a.opsPrice?"7470":a.opsPrice,a.CabinetRental=null==a.CabinetRental?"132288":a.CabinetRental):(a.bandWidthPrice=""===a.bandWidthPrice?"0":a.bandWidthPrice,a.opsPrice=null==a.opsPrice?"10":a.opsPrice),a.userQueueProportion="".concat(1-a.actualConcurrentUserRatio),console.log(a.userQueueProportion),console.log(a),console.log(e.state.allSeverList),t.next=11,e.generateAOrder(a);case 11:return t.next=13,e.setState({fieldsValue:a,queryFormModalVisible:!0,addQueryForm:!0});case 13:t.next=16;break;case 15:console.log(a);case 16:case"end":return t.stop()}},t,this)}));return function(e,r){return t.apply(this,arguments)}}())}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,r={labelCol:{xs:{span:6},sm:{span:6}},wrapperCol:{xs:{span:13},sm:{span:13}}};return V.a.createElement("div",{className:M.a.container},V.a.createElement("div",{className:M.a.topContainer},V.a.createElement("div",{className:M.a.top},V.a.createElement(b.a,null,V.a.createElement(b.a.Item,null,V.a.createElement(g.a,{type:"shopping",theme:"filled",style:{color:"#6597FF",fontSize:"24px"}}),"\u9996\u9875")),V.a.createElement("div",{className:M.a.right},V.a.createElement(y.a,{type:"primary",className:M.a.add,onClick:this.showCreateModal},"\u6211\u8981\u8be2\u5355")))),V.a.createElement(L.a,{type:"card",onChange:this.tabChange},this.state.tabData.map(function(a){return V.a.createElement(W,{tab:a.name,key:a.key,id:a.id},V.a.createElement("div",{className:M.a.tabContainer},V.a.createElement("div",{className:M.a.top},V.a.createElement("p",{className:M.a.title},"\u5fc5\u586b\u4fe1\u606f")),V.a.createElement(F.a,null,V.a.createElement("div",{className:M.a.top},V.a.createElement(H,Object.assign({},r,{label:"\u540c\u65f6\u4e0a\u8bfe\u4eba\u6570"}),t("studentNumber",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u4e0a\u8bfe\u4eba\u6570"},{pattern:/^\+?(?:0|[1-9]\d*)$/,message:"\u8bf7\u8f93\u5165\u6574\u6570\uff01"}]})(V.a.createElement(u.a,null))),V.a.createElement(H,Object.assign({},r,{label:"\u6bcf\u5929\u6392\u8bfe\u6570"}),t("scheduleCount",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6bcf\u5929\u6392\u8bfe\u6570"},{pattern:/^[1-9]\d*$/,message:"\u8bf7\u8f93\u5165\u6b63\u6574\u6570\uff01"}]})(V.a.createElement(d.a,{min:1,max:8,placeholder:"1~8",style:{width:"100%"}}))),V.a.createElement(H,Object.assign({},r,{label:"\u6bcf\u5468\u4e0a\u8bfe\u5929\u6570"}),t("classDayNumber",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6bcf\u5468\u4e0a\u8bfe\u5929\u6570"},{pattern:/^[1-9]\d*$/,message:"\u8bf7\u8f93\u5165\u6b63\u6574\u6570\uff01"}]})(V.a.createElement(d.a,{min:1,max:7,placeholder:"1~7",style:{width:"100%"}}))),V.a.createElement("span",{className:M.a.prompt},"<=\u7cfb\u7edf\u6700\u5927\u7528\u6237\u6570","".concat(e.props.form.getFieldValue("studentNumber")*e.props.form.getFieldValue("scheduleCount")*e.props.form.getFieldValue("classDayNumber"))," "),V.a.createElement(H,Object.assign({},r,{label:"\u603b\u8d26\u53f7\u9700\u6c42\u6570"}),t("requireNumber",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u603b\u8d26\u53f7\u9700\u6c42\u6570"},{validator:e.compareToMaxRequest},{pattern:/^\+?(?:0|[1-9]\d*)$/,message:"\u8bf7\u8f93\u5165\u6574\u6570\uff01"}]})(V.a.createElement(u.a,null))),V.a.createElement(H,Object.assign({},r,{label:"\u670d\u52a1\u5e74\u9650"}),t("seniority",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u670d\u52a1\u5e74\u9650"},{}]})(V.a.createElement(u.a,null)))),V.a.createElement(c.a,{dashed:!0,style:{borderColor:"#BBBBBB"}}),V.a.createElement("div",{className:M.a.top},V.a.createElement("p",{className:M.a.title},"\u9009\u586b\u4fe1\u606f"),V.a.createElement(H,Object.assign({},r,{label:"\u5b9e\u9645\u5e76\u53d1\u7528\u6237\u6bd4"}),t("actualConcurrentUserRatio",{initialValue:.6})(V.a.createElement(d.a,{min:0,max:1,placeholder:"0~1",style:{width:"100%"}}))),V.a.createElement("span",{className:M.a.prompt},"\u5355\u4f4d:G "),V.a.createElement(H,Object.assign({},r,{label:"\u7528\u6237\u5b58\u50a8\u914d\u989d"}),t("userStorageQuota",{initialValue:2})(V.a.createElement(u.a,{placeholder:"2"}))),V.a.createElement(H,Object.assign({},r,{label:"CPU\u670d\u52a1\u5668\u6570"}),t("CPUServersNumber",{rules:[{pattern:/^\+?(?:0|[1-9]\d*)$/,message:"\u8bf7\u8f93\u5165\u6574\u6570\uff01"}],initialValue:1})(V.a.createElement(d.a,{min:1,max:7,placeholder:"1~7",style:{width:"100%"}}))),"EXCLUSIVE"===a.id?V.a.createElement("div",null,V.a.createElement("span",{className:M.a.prompt},"\u9ed8\u8ba4\uff1a0\u5143/Mbps/\u5e74"),V.a.createElement(H,Object.assign({},r,{label:"\u7f51\u7edc\u5bbd\u5e26\u4ef7\u683c"}),t("bandWidthPrice",{initialValue:0})(V.a.createElement(u.a,{placeholder:"0"}))),V.a.createElement("span",{className:M.a.prompt},"\u9ed8\u8ba4\uff1a(10 * \u603b\u4ef7)\u5143/\u5e74"),V.a.createElement(H,Object.assign({},r,{label:"\u8fd0\u7ef4\u4ef7\u683c"}),t("opsPrice",{initialValue:10})(V.a.createElement(d.a,{placeholder:"10",min:0,max:100,formatter:function(e){return"".concat(e,"%")},parser:function(e){return e.replace("%","")},style:{width:"100%"}})))):V.a.createElement("div",null,V.a.createElement("span",{className:M.a.prompt},"\u9ed8\u8ba4\uff1a120\u5143/Mbps/\u5e74"),V.a.createElement(H,Object.assign({},r,{label:"\u7f51\u7edc\u5bbd\u5e26\u4ef7\u683c"}),t("bandWidthPrice",{initialValue:120})(V.a.createElement(u.a,{placeholder:"120"}))),V.a.createElement("span",{className:M.a.prompt},"\u9ed8\u8ba4\uff1a132288\u5143/\u5e74"),V.a.createElement(H,Object.assign({},r,{label:"\u673a\u67dc\u79df\u8d41"}),t("CabinetRental",{initialValue:"132288"})(V.a.createElement(u.a,{placeholder:"132288"}))),V.a.createElement("span",{className:M.a.prompt},"\u9ed8\u8ba4\uff1a7470 \u5143/\u5e74"),V.a.createElement(H,Object.assign({},r,{label:"\u8fd0\u7ef4\u4eba\u529b"}),t("OperationAndMaintenanceManpower",{initialValue:"7470"})(V.a.createElement(u.a,{placeholder:"7470"})))))),V.a.createElement(c.a,{dashed:!0,style:{borderColor:"#BBBBBB"}}),V.a.createElement("div",{className:M.a.bottom},V.a.createElement("p",{className:M.a.title},"\u914d\u7f6e\u9879"),V.a.createElement("span",{className:M.a.configure},"\u914d\u7f6e\u4fe1\u606f:"),V.a.createElement(s.a,{columns:e.state.columns,dataSource:e.state.dataSource,onChange:e.handleChange,pagination:!1,className:M.a.table,size:"middle",loading:e.state.tableLoading,rowKey:function(e){return"".concat(e.key)}})),V.a.createElement(n.a,{title:"\u914d\u7f6e\u8be6\u60c5",visible:e.state.detailVisible,onOk:e.detailClickOk,okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onCancel:e.detailClickCancel,width:960,bodyStyle:{height:"549px",padding:"24px 54px"}},V.a.createElement("div",null,V.a.createElement("p",null,V.a.createElement("span",{style:{display:"inline-block",width:"86.34px",textAlign:"right",color:"#666666"}},e.state.detailRecord.equipment,"\uff1a"),V.a.createElement("span",null,e.state.selectValueName)),V.a.createElement("p",null,V.a.createElement("span",{style:{display:"inline-block",width:"85px",textAlign:"right",color:"#666666"}},"\u552e\u4ef7\uff1a"),V.a.createElement("span",{style:{color:"#6597FF"}},e.state.detailPrice,"\u5143/","\u786c\u76d8"===e.state.detailRecord.equipment?"\u5757":"\u53f0")),V.a.createElement("div",null,V.a.createElement("span",{style:{display:"inline-block",width:"85px",textAlign:"right",verticalAlign:"top",color:"#666666"}},"\u8be6\u7ec6\u4fe1\u606f\uff1a"),V.a.createElement("div",{style:{display:"inline-block",width:"655px",height:"384px",padding:"10px",overflowY:"auto",border:"1px solid #BBBBBB"}},e.state.aSeverParts.length>0?e.state.aSeverParts.map(function(e,t){return V.a.createElement("p",{key:t},"-1"==e.partByPartId.name.indexOf("\u652f\u6301")?e.partNumber:"",""!==e.partNumber&&null!==e.partNumber&&"-1"==e.partByPartId.name.indexOf("\u652f\u6301")?"x":"",e.partByPartId.name)}):V.a.createElement("div",{style:{textAlign:"center",width:"635px",height:"354px",lineHeight:"354px",color:"#BBBBBB"}},V.a.createElement("span",null,"\u6682\u65e0\u6570\u636e")))))),V.a.createElement(Q.a,{addQueryForm:e.state.addQueryForm,queryFormModalVisible:e.state.queryFormModalVisible,modalChange:function(t){e.queryFormModalChange(t)},orderInfo:e.state.orderInfo,hardwareTopologyUrl:e.state.hardwareTopologyUrl,tabId:e.state.tabData[e.state.tabKey].id,fieldsValue:e.state.fieldsValue})))})))}}]),t}(V.a.Component);t.default=F.a.create()($)}}]);
//# sourceMappingURL=4.81d98c06.chunk.js.map