(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{424:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"Row",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(r,"Col",{enumerable:!0,get:function(){return n.default}});var a=o(t(181)),n=o(t(182));function o(e){return e&&e.__esModule?e:{default:e}}},426:function(e,r,t){"use strict";t.d(r,"f",function(){return s}),t.d(r,"g",function(){return i}),t.d(r,"b",function(){return c}),t.d(r,"h",function(){return l}),t.d(r,"e",function(){return d}),t.d(r,"a",function(){return p}),t.d(r,"c",function(){return u}),t.d(r,"d",function(){return m});var a=t(54),n=t(21),o=t(53);function s(e){return Object(o.a)("/api/v1/businessman/order/getOrderList",{method:"GET",body:Object(n.a)({},e)})}function i(e){return Object(o.a)("/api/v1/businessman/order/getOrderListLikeNameOrRemarks",{method:"GET",body:Object(n.a)({},e)})}function c(e){return Object(o.a)("/api/v1/order/deleteAOrder",{method:"POST",body:Object(n.a)({},e)})}function l(e){return Object(o.a)("/api/v1/businessman/order/getServerListAndHardDiskList",{method:"GET",body:Object(n.a)({},e)})}function d(e){return Object(o.a)("/api/v1/order/generateAOrder",{method:"POST",body:e})}function p(e){return Object(o.a)("/api/v1/order/addAOrder",{method:"POST",body:e})}function u(e){return Object(o.a)("/api/v1/businessman/order/download",{method:"POST",responseType:"blob",body:e})}function m(e){var r=Object(a.a)({},e);return Object(o.a)("/api/v1/businessman/download",{method:"GET",responseType:"blob",body:Object(n.a)({},r)})}},433:function(e,r,t){"use strict";t(172);var a=t(116),n=t.n(a),o=(t(179),t(118)),s=t.n(o),i=(t(434),t(436)),c=t.n(i),l=(t(435),t(437)),d=t.n(l),p=(t(174),t(115)),u=t.n(p),m=t(33),h=t.n(m),y=(t(173),t(52)),f=t.n(y),g=t(60),b=t(38),E=t(39),v=t(42),x=t(40),w=t(43),k=(t(177),t(62)),S=t.n(k),I=(t(171),t(59)),P=t.n(I),O=t(1),C=t.n(O),F=t(426),B=P.a.TextArea,j=S.a.Item,N=0,R=[{id:"gpuServer",name:"GPU\u670d\u52a1\u5668",key:0,info:{name:"name",number:"gupServerNumber",Capacity:"gpuNumber",whitePaperUrl:"whitePaperUrl",price:"gpuServerPrice"}},{id:"cpuServer",name:"CPU\u670d\u52a1\u5668",key:2,info:{name:"name",number:"cpuServerNumber",whitePaperUrl:"whitePaperUrl",price:"cpuServerPrice"}},{id:"storageServer",name:"\u5b58\u50a8\u670d\u52a1\u5668",key:1,info:{name:"name",number:"storageServerNumber",Size:"storageSize",hardDiskNumber:"hardDiskNumber",whitePaperUrl:"whitePaperUrl",price:"storageServerPrice"}},{id:"ibServer",name:"IB\u4ea4\u6362\u673a",key:3,info:{name:"name",number:"ibNumber",whitePaperUrl:"whitePaperUrl",price:"ibPrice"}},{id:"hardDiskEntity",name:"\u786c\u76d8",key:4,info:{name:"name",number:"hardDiskNumber",whitePaperUrl:"whitePaperUrl",price:"hartDiskServerPrice"}}],L=function(e){function r(e){var t;return Object(b.a)(this,r),(t=Object(v.a)(this,Object(x.a)(r).call(this,e))).downloadWhitePaper=function(){var e=Object(g.a)(h.a.mark(function e(r){var t,a;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(F.d)({filename:r.split("/").pop().replace(/(^files\\)/g,""),whitePaperUrl:r});case 3:(t=e.sent).errorCode||((a=document.createElement("a")).href=window.URL.createObjectURL(t),a.download=r.split("/").pop().replace(/(^files\\)/g,""),a.click(),window.URL.revokeObjectURL(a.href),console.log(a.href)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),f.a.error("\u4e0b\u8f7d\u767d\u76ae\u4e66\u5931\u8d25");case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(r){return e.apply(this,arguments)}}(),t.addAOrder=function(){var e=Object(g.a)(h.a.mark(function e(r){var a;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a="TRUSTEESHIP"===t.props.tabId?{userRealityProportion:"".concat(t.props.orderInfo.ordersEntity.userRealityProportion),userQueueProportion:"".concat(t.props.orderInfo.ordersEntity.userQueueProportion),userStorage:"".concat(t.props.orderInfo.ordersEntity.userStorage),bandwidthPrice:"".concat(t.props.orderInfo.ordersEntity.bandwidthPrice),opsPriceCoefficient:"".concat(t.props.fieldsValue.opsPrice),userNumber:"".concat(t.props.orderInfo.ordersEntity.userNumber),scheduleClassesEverydayNumber:"".concat(t.props.orderInfo.ordersEntity.scheduleClassesEverydayNumber),schooldaysPerWeekNumber:"".concat(t.props.orderInfo.ordersEntity.schooldaysPerWeekNumber),systemUsersTotal:"".concat(t.props.orderInfo.ordersEntity.systemUsersTotal),serviceCycle:"".concat(t.props.orderInfo.ordersEntity.serviceCycle),hardDiskId:"".concat(t.props.orderInfo.hardDiskEntity.id),cpuServerNumber:"".concat(t.props.orderInfo.ordersEntity.cpuServerNumber),gpuId:"".concat(t.props.orderInfo.gpuServer.id),storageId:"".concat(t.props.orderInfo.storageServer.id),cpuId:"".concat(t.props.orderInfo.cpuServer.id),ibId:"".concat(t.props.orderInfo.ibServer.id),name:r.name,remarks:r.remarks,rackLeasedPrice:"".concat(t.props.orderInfo.ordersEntity.rackLeasedPrice)}:{userRealityProportion:"".concat(t.props.orderInfo.ordersEntity.userRealityProportion),userQueueProportion:"".concat(t.props.orderInfo.ordersEntity.userQueueProportion),userStorage:"".concat(t.props.orderInfo.ordersEntity.userStorage),bandwidthPrice:"".concat(t.props.orderInfo.ordersEntity.bandwidthPrice),opsPriceCoefficient:"".concat(t.props.fieldsValue.opsPrice),userNumber:"".concat(t.props.orderInfo.ordersEntity.userNumber),scheduleClassesEverydayNumber:"".concat(t.props.orderInfo.ordersEntity.scheduleClassesEverydayNumber),schooldaysPerWeekNumber:"".concat(t.props.orderInfo.ordersEntity.schooldaysPerWeekNumber),systemUsersTotal:"".concat(t.props.orderInfo.ordersEntity.systemUsersTotal),serviceCycle:"".concat(t.props.orderInfo.ordersEntity.serviceCycle),hardDiskId:"".concat(t.props.orderInfo.hardDiskEntity.id),cpuServerNumber:"".concat(t.props.orderInfo.ordersEntity.cpuServerNumber),gpuId:"".concat(t.props.orderInfo.gpuServer.id),storageId:"".concat(t.props.orderInfo.storageServer.id),cpuId:"".concat(t.props.orderInfo.cpuServer.id),ibId:"".concat(t.props.orderInfo.ibServer.id),name:r.name,remarks:r.remarks},e.next=4,Object(F.a)(a);case 4:1e3===e.sent.errorCode?(f.a.success("\u8ba2\u5355\u6dfb\u52a0\u6210\u529f"),t.setState({addSuccess:!0})):u.a.info({message:"\u5b58\u50a8\u8ba2\u5355\u5931\u8d25"}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),u.a.info({message:"\u5b58\u50a8\u8ba2\u5355\u5931\u8d25"});case 11:case"end":return e.stop()}},e,this,[[0,8]])}));return function(r){return e.apply(this,arguments)}}(),t.queryFormClickOk=function(){if(t.props.addQueryForm)t.props.form.validateFieldsAndScroll(function(){var e=Object(g.a)(h.a.mark(function e(r,a){var n;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=6;break}return console.log(a),e.next=4,t.addAOrder(a);case 4:n={queryFormModalVisible:!1,addSuccess:t.state.addSuccess},t.props.modalChange(n);case 6:case"end":return e.stop()}},e,this)}));return function(r,t){return e.apply(this,arguments)}}());else{t.props.modalChange({queryFormModalVisible:!1})}N=0},t.queryFormClickCancel=function(){t.props.modalChange({queryFormModalVisible:!1}),N=0},t.state={stateUp:!1,orderInfo:t.props.orderInfo,addSuccess:!1},t}return Object(w.a)(r,e),Object(E.a)(r,[{key:"componentDidMount",value:function(){var e=Object(g.a)(h.a.mark(function e(){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:console.log("456"),this.props.form.resetFields();case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;N=0,console.log(this.props.queryFormRecord),console.log(this.state.hardwareTopologyUrl);var r={width:"100%",height:"46px",padding:"10px 20px",background:"#F0F2F5"},t={fontSize:"16px",color:"#333333",marginTop:"14px",display:"inline-block"},a=this.props.form.getFieldDecorator,o={labelCol:{xs:{span:2},sm:{span:2}},wrapperCol:{xs:{span:9},sm:{span:9}}};return C.a.createElement("div",null,this.props.queryFormModalVisible&&this.props.orderInfo?C.a.createElement(n.a,{title:"\u8be2\u5355\u8be6\u60c5",visible:this.props.queryFormModalVisible,onOk:this.queryFormClickOk,okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onCancel:this.queryFormClickCancel,width:1212},C.a.createElement("div",{style:{marginBottom:"60px"}},C.a.createElement(c.a,{type:"flex",style:this.props.addQueryForm?{display:"none"}:{height:"73px",border:"0px"}},C.a.createElement(d.a,{span:4,offset:10,style:{textAlign:"center"}},C.a.createElement("p",{style:{color:"#333333",fontSize:"18px",marginBottom:"0.6em"}},this.props.orderInfo.ordersEntity.name),C.a.createElement("p",{style:{color:"#666666"}},this.props.orderInfo.ordersEntity.businessmanByBusinessmanId.name,"\xa0",this.props.orderInfo.ordersEntity.registertime))),C.a.createElement(c.a,{type:"flex",style:{height:"208px"}},C.a.createElement("div",{style:r},C.a.createElement("h3",null,"\u7528\u6237\u9700\u6c42")),C.a.createElement("div",{style:{padding:"0 20px",width:"100%"}},C.a.createElement("div",{style:{height:"80px",paddingTop:"14px"}},C.a.createElement("h3",null,"\u57fa\u672c\u9700\u6c42"),C.a.createElement("span",{style:{marginRight:"60px"}},"\u540c\u65f6\u4e0a\u8bfe\u4eba\u6570: ",this.props.orderInfo.ordersEntity.userNumber,"\u4eba"),C.a.createElement("span",{style:{marginRight:"60px"}},"\u6bcf\u5929\u6392\u8bfe\u8282\u6570: ",this.props.orderInfo.ordersEntity.scheduleClassesEverydayNumber,"\u8282"),C.a.createElement("span",{style:{marginRight:"60px"}},"\u6bcf\u5468\u4e0a\u8bfe\u5929\u6570: ",this.props.orderInfo.ordersEntity.schooldaysPerWeekNumber,"\u5929"),C.a.createElement("span",{style:{marginRight:"60px"}},"\u603b\u8d26\u53f7\u9700\u6c42: ",this.props.orderInfo.ordersEntity.systemUsersTotal,"\u4eba"),C.a.createElement("span",{style:{marginRight:"60px"}},"\u670d\u52a1\u5e74\u9650: ",this.props.orderInfo.ordersEntity.serviceCycle,"\u5e74")),C.a.createElement(s.a,{dashed:!0,style:{borderColor:"#BBBBBB",margin:"0"}}),C.a.createElement("div",{style:{height:"80px",paddingTop:"14px"}},C.a.createElement("h3",null,"\u7f51\u7edc\u9700\u6c42"),C.a.createElement("span",{style:{marginRight:"60px"}},"\u6bcf\u7528\u6237: ",this.props.orderInfo.everyUserBandwidthMaximum,"Mbps"),C.a.createElement("span",{style:{marginRight:"60px"}},"\u603b\u8ba1: ",this.props.orderInfo.ordersEntity.bandwidthRequirements,"Mbps")))),C.a.createElement(c.a,{type:"flex",style:{marginBottom:"21px",border:"0px",height:"454px"}},C.a.createElement("div",{style:{width:"740px",marginRight:"23px",height:"454px",border:"1px solid #BBBBBB"}},C.a.createElement("div",{style:r},C.a.createElement("h3",null,"\u786c\u4ef6\u914d\u7f6e\u53ca\u67b6\u6784")),C.a.createElement("div",{style:{padding:"0 20px",width:"100%"}},R.map(function(r,t){return C.a.createElement("div",{style:{height:"66px",marginTop:"14px"},key:r.name},C.a.createElement("h3",null,r.name),C.a.createElement("div",{style:{marginBottom:"14px"}},C.a.createElement("span",{style:{marginRight:"60px"}},"\u578b\u53f7: ",null!==e.props.orderInfo[r.id]?e.props.orderInfo[r.id][r.info.name]:"null"),C.a.createElement("span",{style:{marginRight:"60px"}},"\u6570\u91cf: ",e.props.orderInfo.ordersEntity[r.info.number],"\u786c\u76d8"===r.name?"\u5757":"\u53f0"),C.a.createElement("span",{style:"GPU\u670d\u52a1\u5668"===r.name?{marginRight:"60px"}:{display:"none"}},"\u5361\u6570: ",e.props.orderInfo.ordersEntity[r.info.Capacity],"\u5361"),C.a.createElement("span",{style:"\u5b58\u50a8\u670d\u52a1\u5668"===r.name?{marginRight:"60px"}:{display:"none"}},"\u5b58\u50a8\u91cf: ",e.props.orderInfo.ordersEntity[r.info.Size],"TB"),C.a.createElement("span",{style:"\u5b58\u50a8\u670d\u52a1\u5668"===r.name?{marginRight:"60px"}:{display:"none"}},"\u786c\u76d8\u6570:  ",e.props.orderInfo.ordersEntity[r.info.hardDiskNumber],"\u5757"),null!==e.props.orderInfo[r.id]&&null!==e.props.orderInfo[r.id][r.info.whitePaperUrl]&&"\u786c\u76d8"!==r.name&&"ROLE_BUSINESSMAN"===window.localStorage.getItem("role")?C.a.createElement("a",{onClick:function(){return e.downloadWhitePaper(e.props.orderInfo[r.id][r.info.whitePaperUrl])}},"\u4e0b\u8f7d\u767d\u76ae\u4e66"):""),t===R.length-1?"":C.a.createElement(s.a,{dashed:!0,style:{borderColor:"#BBBBBB",margin:"0"}}))}))),C.a.createElement("div",{style:{width:"401px",height:"454px",border:"1px solid #BBBBBB"}},C.a.createElement("div",{style:r},C.a.createElement("h3",null,"\u62d3\u6251\u56fe")),C.a.createElement("div",{style:{padding:"14px 20px",width:"410px",height:"375px"}},C.a.createElement("img",{src:this.props.hardwareTopologyUrl,style:{width:"370px",height:"347px",marginBottom:"14px",display:"inline-block",overflow:"hidden"},alt:"\u56fe\u7247\u52a0\u8f7d\u5931\u8d25"}),C.a.createElement("a",{href:this.props.hardwareTopologyUrl,download:Date.parse(new Date)+".png"},"\u4e0b\u8f7d\u62d3\u6251\u56fe")))),C.a.createElement(c.a,{type:"flex"},C.a.createElement("div",{style:r},C.a.createElement("h3",null,"\u786c\u4ef6\u6210\u672c")),C.a.createElement("div",{style:{padding:"0 20px",width:"100%"}},C.a.createElement("div",{style:{height:"49px",paddingTop:"14px"}},R.map(function(r,t){return N+=e.props.orderInfo.ordersEntity[r.info.price]*e.props.orderInfo.ordersEntity[r.info.number],C.a.createElement("span",{key:t,style:{marginRight:"60px"}},r.name,": ","".concat(e.props.orderInfo.ordersEntity[r.info.price]*e.props.orderInfo.ordersEntity[r.info.number]),"\u5143")})),C.a.createElement(s.a,{dashed:!0,style:{borderColor:"#BBBBBB",margin:"0"}}),C.a.createElement("div",{style:{height:"49px"}},C.a.createElement("span",{style:t},"\u603b\u8ba1: ",N,"\u5143")))),C.a.createElement(c.a,{type:"flex"},C.a.createElement("div",{style:r},C.a.createElement("h3",null,"\u8f6f\u4ef6\u62a5\u4ef7")),C.a.createElement("div",{style:{padding:"0 20px",width:"100%"}},C.a.createElement("div",{style:{height:"49px",paddingTop:"14px"}},C.a.createElement("span",{style:{marginRight:"60px"}},"\u6743\u9650\u6388\u6743\u8d39: ",this.props.orderInfo.ordersEntity.softwareLicensingPrice,"\u5143"),C.a.createElement("span",{style:{marginRight:"60px"}},"\u62d3\u5c55\u8bfe\u7a0b\u5305: 0\u5143")),C.a.createElement(s.a,{dashed:!0,style:{borderColor:"#BBBBBB",margin:"0"}}),C.a.createElement("div",{style:{height:"49px"}},C.a.createElement("span",{style:t},"\u603b\u8ba1: ","".concat(this.props.orderInfo.ordersEntity.softwareLicensingPrice+0),"\u5143")))),C.a.createElement(c.a,{type:"flex"},C.a.createElement("div",{style:r},C.a.createElement("h3",null,"\u5176\u4ed6\u6210\u672c")),C.a.createElement("div",{style:{padding:"0 20px",width:"100%"}},C.a.createElement("div",{style:{height:"49px",paddingTop:"14px"}},C.a.createElement("span",{style:{marginRight:"60px"}},"\u7f51\u7edc: ",this.props.orderInfo.ordersEntity.networkTotalPrice,"\u5143"),C.a.createElement("span",{style:{marginRight:"60px"}},"\u8fd0\u7ef4\u4ef7\u683c: ",this.props.orderInfo.ordersEntity.opsTotalPrice,"\u5143"),C.a.createElement("span",{style:this.props.orderInfo.ordersEntity.rackLeasedPrice?{marginRight:"60px"}:{display:"none"}},"\u673a\u67dc\u79df\u8d41: ",this.props.orderInfo.ordersEntity.rackLeasedPrice,"\u5143")),C.a.createElement(s.a,{dashed:!0,style:{borderColor:"#BBBBBB",margin:"0"}}),C.a.createElement("div",{style:{height:"49px"}},C.a.createElement("span",{style:t},"\u603b\u8ba1: ",this.props.orderInfo.ordersEntity.rackLeasedPrice?"".concat(this.props.orderInfo.ordersEntity.networkTotalPrice+this.props.orderInfo.ordersEntity.opsTotalPrice+this.props.orderInfo.ordersEntity.rackLeasedPrice):"".concat(this.props.orderInfo.ordersEntity.networkTotalPrice+this.props.orderInfo.ordersEntity.opsTotalPrice),"\u5143")))),C.a.createElement("div",{style:{margin:"10px 20px 30px"}},C.a.createElement("span",{style:{fontSize:"26px"}},"\u670d\u52a1\u5468\u671f\u5185\u603b\u4ef7\u683c: "),C.a.createElement("span",{style:{fontSize:"26px",color:"#719CFB"}},this.props.orderInfo.ordersEntity.serviceCycleTotalPrice,"\u5143")),C.a.createElement(s.a,{dashed:!0,style:this.props.addQueryForm?{borderColor:"#BBBBBB"}:{display:"none"}}),C.a.createElement(S.a,{style:this.props.addQueryForm?{display:"block"}:{display:"none"}},C.a.createElement(j,Object.assign({},o,{label:"\u8be2\u5355\u540d"}),a("name",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u8be2\u5355\u540d"}]})(C.a.createElement(P.a,{style:{color:"#999999"},size:"large"}))),C.a.createElement(j,Object.assign({},o,{label:"\u6dfb\u52a0\u5907\u6ce8"}),a("remarks",{})(C.a.createElement(B,{style:{resize:"none",height:"152px"}})))))):"")}}]),r}(C.a.Component);r.a=S.a.create()(L)},434:function(e,r,t){"use strict";t(17),t(178)},435:function(e,r,t){"use strict";t(17),t(178)},436:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=t(424).Row;r.default=a},437:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var a=t(424).Col;r.default=a},581:function(e,r,t){e.exports={container:"QueryForm_container__1kV6u",topContainer:"QueryForm_topContainer__7p6fo",top:"QueryForm_top__3Ni3N",right:"QueryForm_right__1lLj7",search:"QueryForm_search__2VfN_",table:"QueryForm_table__3B4Ns"}},671:function(e,r,t){"use strict";t.r(r);t(172);var a=t(116),n=t.n(a),o=(t(428),t(432)),s=t.n(o),i=(t(427),t(431)),c=t.n(i),l=(t(429),t(430)),d=t.n(l),p=(t(176),t(18)),u=t.n(p),m=(t(174),t(115)),h=t.n(m),y=t(33),f=t.n(y),g=(t(173),t(52)),b=t.n(g),E=t(60),v=t(38),x=t(39),w=t(42),k=t(40),S=t(43),I=(t(171),t(59)),P=t.n(I),O=t(1),C=t.n(O),F=t(581),B=t.n(F),j=t(433),N=t(426),R=t(119),L=P.a.Search,T=function(e){function r(e){var t;return Object(v.a)(this,r),(t=Object(w.a)(this,Object(k.a)(r).call(this,e))).getHardwareTopology=function(){var e=Object(E.a)(f.a.mark(function e(r){var a,n;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(R.a)({gpuNumber:r.ordersEntity.gupServerNumber,storeNumber:r.ordersEntity.storageServerNumber,cpuNumber:r.ordersEntity.cpuServerNumber,userNumber:r.ordersEntity.userNumber,ibNumber:r.ordersEntity.ibNumber});case 3:if(a=e.sent,console.log(a),!a.errorCode){e.next=9;break}b.a.error("\u83b7\u53d6\u62d3\u6251\u56fe\u5931\u8d25"),e.next=13;break;case 9:return n=window.URL.createObjectURL(a),console.log(n),e.next=13,t.setState({hardwareTopologyUrl:n});case 13:e.next=17;break;case 15:e.prev=15,e.t0=e.catch(0);case 17:case"end":return e.stop()}},e,this,[[0,15]])}));return function(r){return e.apply(this,arguments)}}(),t.getQueryFormList=Object(E.a)(f.a.mark(function e(){var r;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(N.f)({page:t.state.current,size:t.state.pageSize});case 3:r=e.sent,console.log(r),1e3===r.errorCode?t.setState({data:r.data.list,total:r.data.totalCount}):h.a.info({message:r.errorMessage}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("\u83b7\u53d6\u5931\u8d25");case 11:case"end":return e.stop()}},e,this,[[0,8]])})),t.handleChange=function(e,r,a){console.log("Various parameters",e,r,a),t.setState({filteredInfo:r,sortedInfo:a})},t.onChange=function(){var e=Object(E.a)(f.a.mark(function e(r){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.setState({tableLoading:!0,PaginationCurrent:r}),!t.state.searchState){e.next=8;break}return e.next=4,t.setState({searchState:r-1});case 4:console.log(t.state.searchState),t.searchQueryList(),e.next=12;break;case 8:return e.next=10,t.setState({current:r-1});case 10:console.log(t.state.current),t.getQueryFormList();case 12:t.setState({tableLoading:!1});case 13:case"end":return e.stop()}},e,this)}));return function(r){return e.apply(this,arguments)}}(),t.onShowSizeChange=function(){var e=Object(E.a)(f.a.mark(function e(r,a){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.setState({tableLoading:!0,PaginationCurrent:r,PaginationPageSize:a}),!t.state.searchState){e.next=8;break}return console.log(a,r),e.next=5,t.setState({searchCurrent:r-1,searchPageSize:a});case 5:t.searchQueryList(),e.next=12;break;case 8:return console.log(a,r),e.next=11,t.setState({current:r-1,pageSize:a});case 11:t.getQueryFormList();case 12:t.setState({tableLoading:!1});case 13:case"end":return e.stop()}},e,this)}));return function(r,t){return e.apply(this,arguments)}}(),t.searchQuery=function(){var e=Object(E.a)(f.a.mark(function e(r){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(""===r){e.next=7;break}return e.next=3,t.setState({tableLoading:!0,searchState:!0,searchValue:r,PaginationCurrent:1,PaginationPageSize:10});case 3:t.searchQueryList(),t.setState({tableLoading:!1}),e.next=11;break;case 7:return e.next=9,t.setState({tableLoading:!0,searchState:!1,current:0,pageSize:10,PaginationCurrent:1,PaginationPageSize:10});case 9:t.getQueryFormList(),t.setState({tableLoading:!1});case 11:case"end":return e.stop()}},e,this)}));return function(r){return e.apply(this,arguments)}}(),t.searchQueryList=Object(E.a)(f.a.mark(function e(){var r;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(N.g)({page:t.state.searchCurrent,size:t.state.searchPageSize,nameOrRemarks:t.state.searchValue});case 3:r=e.sent,console.log(r),1e3===r.errorCode?t.setState({data:r.data.list,total:r.data.totalCount}):h.a.info({message:r.errorMessage}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("\u83b7\u53d6\u5931\u8d25");case 11:case"end":return e.stop()}},e,this,[[0,8]])})),t.deleteAQueryForm=Object(E.a)(f.a.mark(function e(){var r;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(N.b)({id:t.state.deleteQueryFormRecord.id});case 3:r=e.sent,console.log(r),t.setState({tableLoading:!0,deleteVisible:!1}),1e3===r.errorCode?(t.getQueryFormList(),b.a.success("\u201c".concat(t.state.deleteQueryFormRecord.name,"\u201d\u5220\u9664\u6210\u529f"))):b.a.error("\u201c".concat(t.state.deleteQueryFormRecord.name,"\u201d\u5220\u9664\u5931\u8d25")),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),b.a.error("\u201c".concat(t.state.deleteQueryFormRecord.name,"\u201d\u5220\u9664\u5931\u8d25"));case 12:t.setState({tableLoading:!1});case 13:case"end":return e.stop()}},e,this,[[0,9]])})),t.deleteQueryForm=function(e){t.setState({deleteVisible:!0,deleteQueryFormRecord:e})},t.deleteQueryFormOk=function(){t.deleteAQueryForm()},t.deleteQueryFormCancel=function(){t.setState({deleteVisible:!1})},t.getOrdersDetails=function(){var e=Object(E.a)(f.a.mark(function e(r){var a;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(R.b)({ordersId:r.id});case 3:if(a=e.sent,console.log(a),1e3!==a.errorCode){e.next=11;break}return e.next=8,t.getHardwareTopology(a.data);case 8:t.setState({orderInfo:a.data}),e.next=11;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log("\u5f02\u5e38");case 16:case"end":return e.stop()}},e,this,[[0,13]])}));return function(r){return e.apply(this,arguments)}}(),t.checkQueryForm=function(){var e=Object(E.a)(f.a.mark(function e(r){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getOrdersDetails(r);case 2:t.setState({queryFormModalVisible:!0,queryFormRecord:r}),console.log(t.state.hardwareTopologyUrl);case 4:case"end":return e.stop()}},e,this)}));return function(r){return e.apply(this,arguments)}}(),t.queryFormModalChange=function(e){t.setState(e)},t.downloadQueryForm=function(){var e=Object(E.a)(f.a.mark(function e(r){var a;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(r),e.next=3,t.getOrdersDetails(r);case 3:return console.log(t.state.orderInfo),delete(a=t.state.orderInfo.ordersEntity).businessmanByBusinessmanId,a.rackLeasedPrice||(a.rackLeasedPrice=null),e.next=9,t.getQueryFormFile(a,r);case 9:case"end":return e.stop()}},e,this)}));return function(r){return e.apply(this,arguments)}}(),t.getQueryFormFile=function(){var e=Object(E.a)(f.a.mark(function e(r,t){var a,n,o;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(N.c)(r);case 3:a=e.sent,console.log(a),a.errorCode?b.a.error("\u4e0b\u8f7d\u5931\u8d25"):(n=t.name,window.navigator.msSaveOrOpenBlob?navigator.msSaveBlob(a,n):((o=document.createElement("a")).href=window.URL.createObjectURL(a),o.download=t.name+".doc",o.click(),window.URL.revokeObjectURL(o.href))),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("\u5f02\u5e38");case 11:case"end":return e.stop()}},e,this,[[0,8]])}));return function(r,t){return e.apply(this,arguments)}}(),t.state={filteredInfo:null,sortedInfo:null,number:2,current:0,pageSize:10,PaginationCurrent:1,PaginationPageSize:10,searchValue:"",searchState:!1,searchCurrent:0,searchPageSize:10,deleteVisible:!1,deleteQueryFormRecord:{},queryFormModalVisible:!1,queryFormRecord:[],tableLoading:!1},t}return Object(S.a)(r,e),Object(x.a)(r,[{key:"componentDidMount",value:function(){var e=Object(E.a)(f.a.mark(function e(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({tableLoading:!0}),e.next=3,this.getQueryFormList();case 3:this.setState({tableLoading:!1});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,r=this.state.sortedInfo,t=[{title:"\u8be2\u5355\u540d",dataIndex:"name",key:"name"},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"registertime",key:"registertime",sorter:function(e,r){return new Date(e.registertime).getTime()-new Date(r.registertime).getTime()},sortOrder:"registertime"===(r=r||{}).columnKey&&r.order,className:"formName",render:function(e,r){return r.status?C.a.createElement("span",null,e):C.a.createElement("span",{style:{color:"#999999"}},e)}},{title:"\u5907\u6ce8",dataIndex:"remarks",key:"remarks",render:function(e,r){return r.status?C.a.createElement("span",null,e):C.a.createElement("span",{style:{color:"#999999"}},e)}},{title:"\u64cd\u4f5c",dataIndex:"account",key:"account",render:function(r,t){return C.a.createElement("span",null,C.a.createElement("a",{onClick:function(){return e.checkQueryForm(t)}},"\u67e5\u770b\xa0\xa0"),C.a.createElement("a",{onClick:function(){return e.downloadQueryForm(t)}},"\u4e0b\u8f7d\xa0\xa0"),C.a.createElement("a",{onClick:function(){return e.deleteQueryForm(t)}},"\u5220\u9664\xa0\xa0"))}}];return C.a.createElement("div",{className:B.a.container},C.a.createElement("div",{className:B.a.topContainer},C.a.createElement("div",{className:B.a.top},C.a.createElement(d.a,null,C.a.createElement(d.a.Item,null,C.a.createElement(u.a,{type:"shopping",theme:"filled",style:{color:"#6597FF",fontSize:"24px"}}),"\u6211\u7684\u8be2\u5355")),C.a.createElement("div",{className:B.a.right},C.a.createElement(L,{placeholder:"\u8be2\u5355\u540d/\u5907\u6ce8",className:B.a.search,size:"large",onSearch:this.searchQuery})))),C.a.createElement(c.a,{columns:t,dataSource:this.state.data,onChange:this.handleChange,pagination:!1,className:B.a.table,size:"middle",loading:this.state.tableLoading,rowKey:"id"}),C.a.createElement(s.a,{showSizeChanger:!0,current:this.state.PaginationCurrent,pageSize:this.state.PaginationPageSize,onShowSizeChange:this.onShowSizeChange,onChange:this.onChange,showTotal:function(e){return"\u7cfb\u7edf\u91cc\u5171 ".concat(e," \u4e2a\u8be2\u5355")},defaultCurrent:1,total:this.state.total}),C.a.createElement(j.a,{queryFormModalVisible:this.state.queryFormModalVisible,queryFormRecord:this.state.queryFormRecord,modalChange:function(r){e.queryFormModalChange(r)},orderInfo:this.state.orderInfo,hardwareTopologyUrl:this.state.hardwareTopologyUrl}),C.a.createElement(n.a,{title:"\u63d0\u793a",visible:this.state.deleteVisible,onOk:this.deleteQueryFormOk,okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",onCancel:this.deleteQueryFormCancel,width:420,bodyStyle:{height:"193px"}},C.a.createElement("p",{style:{paddingTop:"37px",textAlign:"left",color:"#101010",width:"305px",margin:"0 auto",fontSize:"16px"}},"\u60a8\u662f\u5426\u8981\u5220\u9664\u8be2\u5355:",this.state.deleteQueryFormRecord.name,"\uff1f")))}}]),r}(C.a.Component);r.default=T}}]);
//# sourceMappingURL=5.b83fc5cb.chunk.js.map